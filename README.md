# Auto-generated songbooks of Slovak traditional songs

## Introduction
Songbooks are generated from songs stored in this repository. The songs are chosen based on parameters as songs from a specific set of regions or specific set of villages. 
The songs are stored as json files in a tree structure that follows traditional regional division of Slovakia.
The code of songbook_generator.py will load all desired songs and assembles a lytex file. If building is invoked, lilypond-book script is run on the file to preprocess the songbook to a tex format digestable by any latex distribution. Final pdf of the songbook is generated by running pdflatex on the preprocessed file.

## Requirements
* python3
* lilypond (with lilypond-book)
* pdflatex
* complete installation of texlive or texmf (e.g. dnf install texlive-scheme-full)

## Options
This script can generate many different songbooks based on parameters specified by user. Following parameters for geographical location are hierarchic, i.e. if the parameter is specified, the parameters bellow won't be considered
* -a, --all
Generate songbook from all songs present in this repo

* -r, --region
generate songbook from this region or multiple regions separated by colon, e.g. -r 'Stredné Považie':'Horná Nitra'

* -d, --dedina
Generate songbook from this village or multiple villages separated by colon, e.g. -d 'Selec':'Stankovce'

The following parameters help specify output location, and songbook name
* -o, --output_path
Directory for your build

* -n, --name
Name of the songbook

## Song formating
Songs are stored as jsons. One json contains one dictionary with these keywords:
* sloha
Is a list of lists. Each top-level list represents one stanza (sloha). One stanza is a list of strings, which correspond with verses.

* metadata
Is a dictionary of whatever metadata we can find. The most important is the name of the song (nazov), so we can label the songs appropriately in the songbook
